
BLE Library

lib_aci_bond()

Description
This library starts the nRF8001 radio advertising in bond mode. This function sends the ACI Bond command to the nRF8001 by placing the command in the ACI command queue in the BLE library.
Bond data can be received by a peer that is scanning. Bond starts advertising with the intent of setting up a trusted relationship with a peer device

Syntax
    bool lib_aci_bond(uint16_t run_timeout, uint16_t adv_interval);

Parameters
    run_timeout: Advertising time in seconds. Advertising will stop when a peer device connects to the nR8001 device or when the run_timeout occurs.
                 Use a lib_aci_radio_reset() to stop advertising before the advertisment times out.
                 Accepted values: 1 to 180.
    advertising_interval: Advertising interval (multiple of 0.625 milliseconds). Usually a smaller advertising interval will decrease the time needed for the peer device to connect.
                          Accepted values: 160 to 16384 (which corresponds to an interval from 100 ms to 10.24 s).

Returns
    bool. True when the ACI command is successfully placed in the ACI command queue.

Events generated
    ACI_EVT_CMD_RSP is generated when the nRF8001 device receives the command.
    ACI_EVT_CONNECTED is generated when a peer device connects to the nRF8001
    ACI_EVT_BOND_STATUS with the following possible status codes:
             ACI_BOND_STATUS_SUCCESS is generated in the case of a succesful bonding
             ACI_BOND_STATUS_FAILED is generated if the bonding failed
             ACI_BOND_STATUS_FAILED_TIMED_OUT
             ACI_BOND_STATUS_FAILED_PASSKEY_ENTRY_FAILED
             ACI_BOND_STATUS_FAILED_OOB_UNAVAILABLE
             ACI_BOND_STATUS_FAILED_AUTHENTICATION_REQ
             ACI_BOND_STATUS_FAILED_CONFIRM_VALUE
             ACI_BOND_STATUS_FAILED_PAIRING_UNSUPPORTED
             ACI_BOND_STATUS_FAILED_ENCRYPTION_KEY_SIZE
             ACI_BOND_STATUS_FAILED_SMP_CMD_UNSUPPORTED
             ACI_BOND_STATUS_FAILED_UNSPECIFIED_REASON
             ACI_BOND_STATUS_FAILED_REPEATED_ATTEMPTS
             ACI_BOND_STATUS_FAILED_INVALID_PARAMTERS
    ACI_EVT_DISCONNECTED is generated in case of a failed bonding procedure, the following status codes:
             ACI_STATUS_ERROR_ADVT_TIMEOUT is generated when no peer device connects to the nRF8001 device.
             ACI_STATUS_ERROR_BOND_REQUIRED is generated when a bond is required to proceed with the connection.
             ACI_STATUS_EXTENDED is generated if further checks is needed. See BtLeStatus codes.

    The lib_aci_get_event() is used to get the ACI events from the nRF8001 device.

Example

Arduino UNO example
    |   lib_aci_bond(30/* in seconds */, 0x0100 /* advertising interval 100ms*/);
